{"ast":null,"code":"// frontend/src/hooks/useSocket.js\nimport { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\n\n// Khi chạy trong Docker Compose, frontend container gọi thẳng backend service:\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://backend:8000';\nexport default function useSocket() {\n  const [socket, setSocket] = useState(null);\n  useEffect(() => {\n    const s = io(SOCKET_URL);\n    setSocket(s);\n    return () => {\n      s.disconnect();\n    };\n  }, []);\n  return socket;\n}","map":{"version":3,"names":["useState","useEffect","io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","useSocket","socket","setSocket","s","disconnect"],"sources":["D:/Vo Nguyen Hoanh Hop_J Liff/CNMoi/Hop_feature/realtime-translate-mvc/frontend/src/hooks/useSocket.js"],"sourcesContent":["// frontend/src/hooks/useSocket.js\nimport { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\n\n// Khi chạy trong Docker Compose, frontend container gọi thẳng backend service:\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://backend:8000';\n\nexport default function useSocket() {\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    const s = io(SOCKET_URL);\n    setSocket(s);\n    return () => {\n      s.disconnect();\n    };\n  }, []);\n\n  return socket;\n}\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,EAAE,QAAQ,kBAAkB;;AAErC;AACA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,qBAAqB;AAE5E,eAAe,SAASC,SAASA,CAAA,EAAG;EAClC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAE1CC,SAAS,CAAC,MAAM;IACd,MAAMS,CAAC,GAAGR,EAAE,CAACC,UAAU,CAAC;IACxBM,SAAS,CAACC,CAAC,CAAC;IACZ,OAAO,MAAM;MACXA,CAAC,CAACC,UAAU,CAAC,CAAC;IAChB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOH,MAAM;AACf","ignoreList":[]},"metadata":{},"sourceType":"module"}